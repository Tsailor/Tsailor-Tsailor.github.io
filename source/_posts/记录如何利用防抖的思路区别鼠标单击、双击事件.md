---
    title: 记录如何利用防抖的思路区别鼠标单击、双击事件
    date: 2022-11-30
    tags: 前端基础
---

前端事件是无法区别单击还是双击的 需要我们自己写方法实现
借用防抖的思想，记录一下
<!--more-->
```javascript
interface State {
}
interface Props {
}
class Cell extends React.Component<Props, State> {
    constructor(props: Props) {
        super(props);
        this.state = {
         
        };
    }
    
    clickHelper = (func1: Function, func2: Function, delay: number) => {
        let lastClick = 0;
        let timer: any = null;
        return function (this: Cell, e: React.MouseEvent<HTMLDivElement, MouseEvent>) {
            const arg = arguments;
            const currentClick = e.timeStamp;
            const dt = currentClick - lastClick;
            lastClick = currentClick;
            if (dt < delay) {
                func2.apply(this, arg);
                clearTimeout(timer);
            } else {
                timer = setTimeout(() => {
                    func1.apply(this, arg);
                }, delay);
            }
        };
    };

    clickHelperFn = this.clickHelper(
        () => {
            console.log("单击");
        },
        () => {
            console.log("双击");
        },
        200,
    );
    handleClick: React.MouseEventHandler<HTMLDivElement> = (e) => {
        this.clickHelperFn(e);
    };

    render() {
    
        return (
            <div
                onClick={this.handleClick}
            >
               hello event  
            </div>
        );
    }
}
export default Cell;


```
